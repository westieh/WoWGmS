@page
@model WoWGMS.Pages.EventModel
@{
    ViewData["Title"] = "Raid Events";
}

<h1 class="text-center mb-4">Raid Rosters</h1>

@if (!Model.BossRosters.Any())
{
    <div class="alert alert-info text-center">No rosters available.</div>
}
else
{
    foreach (var roster in Model.BossRosters)
    {
        <div class="card mb-4 shadow">
            <div class="card-header bg-dark text-white">
                <h5 class="mb-0">@roster.GetBoss()?.DisplayName</h5>
                <small>@roster.InstanceTime.ToString("g") | Raid: @roster.RaidSlug</small>
            </div>
            <div class="card-body">
                <p><strong>Processed:</strong> @(roster.IsProcessed ? "Yes" : "No")</p>

                @if (roster.Participants != null && roster.Participants.Any())
                {
                    <ul class="list-group list-group-flush">
                        @foreach (var p in roster.Participants)
                        {
                            <li class="list-group-item">
                                @p.CharacterName (@p.RealmName) – @p.Class / @p.Role
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <p class="text-muted"><em>No participants.</em></p>
                }
            </div>
        </div>
    }
}
